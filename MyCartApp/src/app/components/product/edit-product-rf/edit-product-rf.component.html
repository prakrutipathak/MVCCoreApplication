<div class="container">
    <h2 class="text-center">Modify Product(RF)</h2>
    <div *ngIf="loading" class="loader-overlay">
        <img src="assets/loaderImage.gif"  class="loader-overlay" alt="loading" />
    </div>
    <div class="row justify-content-center">
        <div class="col-md-6">
            <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
                <input type="hidden" class="form-control" id="productId" formControlName="productId">
                <div class="mb-3">
                    <label for="productName" class="form-label">Product Name: </label>
                    <input type="text" class="form-control" id="productName" formControlName="productName">
                    <div *ngIf="formControls['productName'].invalid && formControls['productName'].touched">
                        <small class="text-danger" *ngIf="formControls['productName'].errors?.['required']">
                            Product name is required
                          </small>
                        <small class="text-danger" *ngIf="formControls['productName'].errors?.['minlength']">
                          Product name must be at least 2 characters long
                        </small>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="productDescription" class="form-label">Product Description: </label>
                    <textarea class="form-control" id="productDescription" formControlName="productDescription"></textarea>
                    <div *ngIf="formControls['productDescription'].invalid && formControls['productDescription'].touched">
                        <small class="text-danger" *ngIf="formControls['productDescription'].errors?.['required']">
                            Product description is required
                          </small>
                        <small class="text-danger" *ngIf="formControls['productDescription'].errors?.['minlength']">
                          Product description must be at least 2 characters long
                        </small>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="categoryId" class="form-label">Category Name: </label>
                    <select class="form-control" id="categoryId" formControlName="categoryId">
                        <option value="">--Select--</option>
                        <option *ngFor="let category of categories" [value]="category.categoryId">{{category.categoryName}}</option>
                    </select>
                    <div *ngIf="formControls['categoryId'].invalid && formControls['categoryId'].touched">
                        <small class="text-danger" *ngIf="formControls['categoryId'].errors?.['required'] || formControls['categoryId'].errors?.['invalidCategory']">
                            Category is required
                          </small>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="productPrice" class="form-label">Product Price: </label>
                    <input type="number" class="form-control" id="productPrice" formControlName="productPrice">
                    <div *ngIf="formControls['productPrice'].invalid && formControls['productPrice'].touched">
                        <small class="text-danger" *ngIf="formControls['productPrice'].errors?.['required']">
                            Product price is required
                          </small>
                        <small class="text-danger" *ngIf="formControls['productPrice'].errors?.['min']">
                          Product price is not less than 0.
                        </small>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="inStock" class="form-label">inStock: </label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input type="radio" class="form-check-input" [value]=true id="inStockYes" formControlName="inStock">
                            <label for="inStockYes" class="form-label">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" class="form-check-input" [value]=false  id="inStockNo" formControlName="inStock">
                            <label for="inStockNo" class="form-label">No</label>
                        </div>
                        <div *ngIf="formControls['inStock'].invalid && formControls['inStock'].touched">
                            <small class="text-danger" *ngIf="formControls['inStock'].errors?.['required']">
                                 In Stock status is required
                              </small>

                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <input type="checkbox" class="form-control-input" id="isActive" formControlName="isActive">
                    <label for="isActive" class="form-label">isActive: </label>
                   
                </div>
                <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">Save</button>
                <a [routerLink]="['/products']" routerLinkActive="router-link-active" >Back to list</a>

            </form>
        </div>
    </div>
</div>